<!DOCTYPE html>
<html>
<head>
<title>Admin</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
<script src="js/jquery-3.3.1.js" type="text/javascript"></script>
<script src="js/underscore.js" type="text/javascript"></script>
<script src="js/backbone.js" type="text/javascript"></script>
</head>
<style>
body {
	background-color: #cdd3c4;
	text-align: center;
	margin: 80px;
}

div {
	padding: 40px;
}
</style>
</head>
<body>
	<script type="text/javascript">
	var EmployeeModel = Backbone.Model.extend({
		defaults : {
			id : null,
			name : "",
			password : "",
			userrole : "",
			contact : null,
			email : ""
		},
		url : 'http://localhost:8080/messenger/webapi/admin/addEmployee'
	});

	var EmployeeView = Backbone.View
			.extend({
				template : _
						.template('<h2 id="header">ADD EMPLOYEE</h2><form><input name="id" value="<%=id %>"><input name="name" value="<%=name %>"><input name="password" value="<%= password %>"><input name="userrole" value="<%= userrole %>"><input name="contact" value="<%= contact %>"><input name="email" value="<%= email %>"><button>Save</button></form>'),
				events : {
					submit : 'save'
				},
				save : function(e) {
					e.preventDefault();
					var id = Number(this.$('input[name="id"]').val());
					var name = this.$('input[name="name"]').val();
					var password = this.$('input[name="password"]').val();
					var userrole = this.$('input[name="userrole"]').val();
					var contact = Number(this.$('input[name="contact"]')
							.val());
					var email = this.$('input[name="email"]').val();
					this.model.set("id",id);
					this.model.set("name",name);
					this.model.set("password",password);
					this.model.set("userrole",userrole);
					this.model.set("contact",contact);
					this.model.set("email",email);
					this.model.save();
				},
				render : function() {
					this.$el.html(this.template(this.model.attributes));
					return this;
				}
			});
	var employeeModel = new EmployeeModel();
	var employeeView = new EmployeeView({
		model : employeeModel
	});

	$(document.body).html(employeeView.render().el);
	</script>
</body>
</html>